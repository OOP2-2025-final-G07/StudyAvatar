

 


  




# Study Avatar

## 概要
**Study Avatar** は、日々の勉強時間を記録し、その成果を「アバターの進化」として視覚化する学習管理アプリケーションです。
単なる記録ツールではなく、学習量や教科の偏りに応じてパートナーであるアバターが姿を変えることで、ユーザーの継続的なモチベーションをサポートします。
Flask をベースとしたバックエンドと、Chart.js を用いた科学的な分析機能を備えています。

## アピールポイント
  
### 正確でストレスのない学習タイマー

リアルタイムで更新されるタイマーにより、
今どれくらい勉強しているのかを常に確認できます。
ブラウザがスリープ状態になっても、実時間を基準に計測するため、
学習時間を正確に記録できます。

タイマーの状態に応じて操作できるボタンが自動で切り替わるため、
迷うことなく、直感的に使えます。

### 学習の「偏り」が、ひと目でわかる

1週間の学習データをもとに、
文系・理系それぞれにどれくらい時間を使っているかを可視化。
「最近どちらを多く勉強しているか」「バランスは取れているか」が
自然と分かる設計です。

### 目標に合わせて、成長のペースを調整

テスト期間は少し厳しめに、普段は無理のないペースで。
目標難易度を切り替えることで、
その時々の状況に合った学習スタイルを選べます。

### 勉強すると、アバターが成長する

学習を重ねることで経験値がたまり、アバターが進化。
経験値ゲージは目標難易度と連動しており、
「どれくらい頑張ればいいか」が感覚的に分かります。

成長するアバターが、
「もう少しだけ頑張ってみよう」という気持ちを後押しします。

### シンプルで統一感のあるデザイン

アプリ全体の色合いに合わせたグラフ配色で、
長時間見ても疲れにくいデザインを意識しました。
学習に集中できる、やさしいUIを目指しています。


## 各機能の説明


### ■ (1)　学習記録・進捗管理
* **高精度タイマー計測**: デバイスのシステム時刻（`Date.now()`）を参照し、スタート・ストップの差分から実学習時間をミリ秒単位で厳密に算出します。
* **教科カテゴリ自動分類**: 学習内容を「理系」「文系」に分類して登録可能です。
* **勉強経験値ゲージ**: 総合、理系、文系それぞれの進捗をバー形式で表示し、設定された `min_3`（最大値）を基準に描画されます。。

### ■ (2) 統計分析 (Study Analytics)
* **7日間学習推移グラフ**: 過去1週間分の日別合計学習時間を棒グラフで表示し、継続状況を一目で確認できます。
* **リアルタイム集計**: 保存データに基づき、Lap数、達成率、直近の学習ログ（最新5件）を自動計算して表示します。

### ■ (3) アバター・ゲーミフィケーション
* **動的レベル判定**: 合計学習時間がしきい値（`min_1`～`min_3`）を超えると、全8段階の形態へレベルアップします。
* **パートナー・インタラクション**: 学習計測画面では、現在のアバターが吹き出しメッセージでユーザーを応援します。
* **アバター履歴アーカイブ**: 直近7日間のアバター形態をリスト表示し、努力の軌跡を振り返ることができます。

### (4) システム設定・管理
* **進化基準の動的切り替え**: データベース上の `AvatarThresholdSet` を変更することで、アプリ全体の進化難易度を即座に変更可能です。
* **データ整合性維持機能**: 基準変更時、直近7日間分のアバター履歴を現在のしきい値で一括再計算して反映します。
* **デバッグ用手入力**: `debug=True` 時、カレンダーからの日付選択や分数の直接入力が可能なシミュレーション機能を搭載しています。

### (5) デバックモード
* **app.py 内の app.run 引数を debug=True に変更することで使用可能です。
* **カレンダーからの日付選択や分数の直接入力が可能になります。
* **シミュレーション機能**: タイマーを回さずに任意の学習データを登録できるため、進化分岐やグラフの推移を瞬時にテストできます。
<img width="1470" height="956" alt="スクリーンショット 2026-01-21 18 14 57" src="https://github.com/user-attachments/assets/46ed69a4-5bdb-481c-b439-909b0c1261a5" />


## 使い方

1.  **環境構築**
    仮想環境を作成し、必要なライブラリをインストールします。
    ```bash
    python3 -m venv .venv
    source .venv/bin/activate
    pip install Flask peewee
    ```

2.  **起動**
    `app.py` を実行して、ブラウザでアクセスします。
    ```bash
    python app.py
    ```
    起動後、ブラウザで `http://localhost:8080` を開いてください。
    

## ディレクトリ構成

```text
.
├── app.py                  # メインアプリケーション
├── my_database.db          # SQLite データベース
├── models/                 # DBモデル定義
│   ├── avatar_history.py   # レベル履歴
│   ├── avatar_threshold_set.py # 進化基準
│   └── study.py            # 学習記録
├── routes/                 # ルーティング
│   ├── avatar.py           # 進化ロジック
│   ├── stats.py            # 統計集計
│   └── study.py            # 記録処理
├── static/                 
│   ├── base-style.css      # スタイルシート
│   └── images/             # アバター画像
└── templates/              # HTMLテンプレート
    ├── home.html           # メイン画面
    └── graphs/             # グラフコンポーネント
```

## 作業分担


| 学籍番号・氏名 | 作業内容 |
|--------------|--------|
| [K24017 伊藤源太](https://github.com/tanukiponta-creator) | 見た目 |
| [K24031 海老原巧翔](https://github.com/ebiharaaa0909) | 勉強データの集計 |
| [K24071 佐々木 知哉](https://github.com/to-sasaki333) | 勉強データの登録処理、時間計測の処理 |
| [K24084 鷲見叶芽](https://github.com/KanameSumi) | キャラクターデザインと管理 |
